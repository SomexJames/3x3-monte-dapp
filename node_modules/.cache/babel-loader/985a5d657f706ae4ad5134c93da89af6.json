{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Brandon/Desktop/blackjack-dapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"C:/Users/Brandon/Desktop/blackjack-dapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\Brandon\\\\Desktop\\\\blackjack-dapp\\\\src\\\\components\\\\base.js\",\n    _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"C:\\\\Users\\\\Brandon\\\\Desktop\\\\blackjack-dapp\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";\nimport { GlobalState } from \"./global_states/global_state\";\nimport { useContext } from \"react\";\nimport { handleEthAccReq } from \"./handleEthAccReq\";\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function Base() {\n  _s();\n\n  var _useContext = useContext(GlobalState),\n      currentUserInfo = _useContext.currentUserInfo,\n      setCurrentUserInfo = _useContext.setCurrentUserInfo;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      accReqPending = _useState2[0],\n      setAccReqPending = _useState2[1];\n\n  ;\n\n  var updateUser = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _accReqPending, _ethReqP;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _accReqPending = sessionStorage.getItem(accReqPending);\n              _context.next = 3;\n              return handleEthAccReq();\n\n            case 3:\n              _ethReqP = _context.sent;\n              console.log(_ethReqP);\n              console.log(_accReqPending);\n\n              if (_accReqPending == \"false\") {\n                if (_ethReqP) {\n                  console.log(\"not the start and is pending\");\n                  setAccReqPending(function () {\n                    sessionStorage.setItem(accReqPending, true);\n                  });\n                } else {\n                  console.log(\"not the start and is not pending\"); // signer stuff\n\n                  setAccReqPending(function () {\n                    sessionStorage.setItem(accReqPending, false);\n                  });\n                }\n              } else {\n                setAccReqPending(function () {\n                  sessionStorage.setItem(accReqPending, _accReqPending);\n                });\n              }\n\n              ;\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function updateUser() {\n      return _ref.apply(this, arguments);\n    };\n  }(); // const currProvider = new ethers.providers.Web3Provider(window.ethereum, \"any\");\n  // await currProvider.send(\"eth_requestAccounts\", []).catch(e => {\n  //     if (e.code === -32002) {\n  //         return (<StartPage />);\n  //     } else console.log(\"false\")});\n  //     console.log('before');\n  // const signer = currProvider.getSigner();\n  // console.log(\"after\");\n  // console.log(signer);\n  // const signerAddress = await signer.getAddress().catch(e => console.log(e));\n  // setCurrentUserInfo({\n  //     provider: currProvider,\n  //     signer: signer,\n  //     signerAddress: signerAddress,\n  //     balance: \"-\"\n  // });\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    class: \"rt-container\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"col-rt-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"Scriptcontent\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"pregame_background\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"box\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Click \\\"Connect\\\" to connect to your Web3 Wallet!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: function onClick() {\n                return updateUser();\n              },\n              children: \"Connect\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 33\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 21\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 17\n  }, this);\n}\n\n_s(Base, \"4fOUXPSAnkMcr7lt17qx6vIfJLA=\");\n\n_c = Base;\n\nvar _c;\n\n$RefreshReg$(_c, \"Base\");","map":{"version":3,"sources":["C:/Users/Brandon/Desktop/blackjack-dapp/src/components/base.js"],"names":["GlobalState","useContext","handleEthAccReq","useState","Base","currentUserInfo","setCurrentUserInfo","accReqPending","setAccReqPending","updateUser","_accReqPending","sessionStorage","getItem","_ethReqP","console","log","setItem"],"mappings":";;;;;;;AAAA,SAASA,WAAT,QAA4B,8BAA5B;AACA,SAASC,UAAT,QAA2B,OAA3B;AACA,SAASC,eAAT,QAAgC,mBAAhC;AACA,SAASC,QAAT,QAAyB,OAAzB;;AAKA,OAAO,SAASC,IAAT,GAAgB;AAAA;;AACnB,oBAAgDH,UAAU,CAACD,WAAD,CAA1D;AAAA,MAAQK,eAAR,eAAQA,eAAR;AAAA,MAAyBC,kBAAzB,eAAyBA,kBAAzB;;AACA,kBAA2CH,QAAQ,CAAC,KAAD,CAAnD;AAAA;AAAA,MAAQI,aAAR;AAAA,MAAuBC,gBAAvB;;AAA2D;;AAE3D,MAAMC,UAAU;AAAA,wEAAG;AAAA;;AAAA;AAAA;AAAA;AAAA;AACTC,cAAAA,cADS,GACQC,cAAc,CAACC,OAAf,CAAuBL,aAAvB,CADR;AAAA;AAAA,qBAEQL,eAAe,EAFvB;;AAAA;AAETW,cAAAA,QAFS;AAGfC,cAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAC,cAAAA,OAAO,CAACC,GAAR,CAAYL,cAAZ;;AACA,kBAAIA,cAAc,IAAI,OAAtB,EAA+B;AAC3B,oBAAIG,QAAJ,EAAc;AACVC,kBAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ;AACAP,kBAAAA,gBAAgB,CAAC,YAAM;AACnBG,oBAAAA,cAAc,CAACK,OAAf,CAAuBT,aAAvB,EAAsC,IAAtC;AAA4C,mBADhC,CAAhB;AAEH,iBAJD,MAIO;AACHO,kBAAAA,OAAO,CAACC,GAAR,CAAY,kCAAZ,EADG,CAEH;;AACAP,kBAAAA,gBAAgB,CAAC,YAAM;AACnBG,oBAAAA,cAAc,CAACK,OAAf,CAAuBT,aAAvB,EAAsC,KAAtC;AACH,mBAFe,CAAhB;AAGH;AACJ,eAZD,MAYO;AACHC,gBAAAA,gBAAgB,CAAC,YAAM;AACnBG,kBAAAA,cAAc,CAACK,OAAf,CAAuBT,aAAvB,EAAsCG,cAAtC;AAAsD,iBAD1C,CAAhB;AAEH;;AAAA;;AApBc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAAVD,UAAU;AAAA;AAAA;AAAA,KAAhB,CAJmB,CA0Bf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;AACA,sBACQ;AAAK,IAAA,KAAK,EAAC,cAAX;AAAA,2BACI;AAAK,MAAA,KAAK,EAAC,WAAX;AAAA,6BACI;AAAK,QAAA,KAAK,EAAC,eAAX;AAAA,+BACI;AAAK,UAAA,KAAK,EAAC,oBAAX;AAAA,iCACI;AAAK,YAAA,KAAK,EAAC,KAAX;AAAA,oCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI;AAAQ,cAAA,OAAO,EAAE;AAAA,uBAAMA,UAAU,EAAhB;AAAA,eAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADR;AAcP;;GAzDeL,I;;KAAAA,I","sourcesContent":["import { GlobalState } from \"./global_states/global_state\"\r\nimport { useContext } from \"react\";\r\nimport { handleEthAccReq } from \"./handleEthAccReq\";\r\nimport { useState } from \"react\";\r\n\r\n\r\n\r\n\r\nexport function Base() {\r\n    const { currentUserInfo, setCurrentUserInfo } = useContext(GlobalState);\r\n    const [ accReqPending, setAccReqPending] = useState(false);;\r\n\r\n    const updateUser = async () => {\r\n        const _accReqPending = sessionStorage.getItem(accReqPending);\r\n        const _ethReqP = await handleEthAccReq();\r\n        console.log(_ethReqP);\r\n        console.log(_accReqPending);\r\n        if (_accReqPending == \"false\") {\r\n            if (_ethReqP) {\r\n                console.log(\"not the start and is pending\");\r\n                setAccReqPending(() => {\r\n                    sessionStorage.setItem(accReqPending, true)});\r\n            } else {\r\n                console.log(\"not the start and is not pending\");\r\n                // signer stuff\r\n                setAccReqPending(() => {\r\n                    sessionStorage.setItem(accReqPending, false);\r\n                });\r\n            }\r\n        } else {\r\n            setAccReqPending(() => {\r\n                sessionStorage.setItem(accReqPending, _accReqPending)});\r\n        };\r\n    }\r\n        // const currProvider = new ethers.providers.Web3Provider(window.ethereum, \"any\");\r\n        // await currProvider.send(\"eth_requestAccounts\", []).catch(e => {\r\n        //     if (e.code === -32002) {\r\n        //         return (<StartPage />);\r\n        //     } else console.log(\"false\")});\r\n        //     console.log('before');\r\n        // const signer = currProvider.getSigner();\r\n        // console.log(\"after\");\r\n        // console.log(signer);\r\n        // const signerAddress = await signer.getAddress().catch(e => console.log(e));\r\n\r\n        // setCurrentUserInfo({\r\n        //     provider: currProvider,\r\n        //     signer: signer,\r\n        //     signerAddress: signerAddress,\r\n        //     balance: \"-\"\r\n        // });\r\n        return (\r\n                <div class=\"rt-container\">\r\n                    <div class=\"col-rt-12\">\r\n                        <div class=\"Scriptcontent\">\r\n                            <div class=\"pregame_background\">\r\n                                <div class=\"box\">\r\n                                    <h3>Click \"Connect\" to connect to your Web3 Wallet!</h3>\r\n                                    <button onClick={() => updateUser()}>Connect</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n        )\r\n}"]},"metadata":{},"sourceType":"module"}