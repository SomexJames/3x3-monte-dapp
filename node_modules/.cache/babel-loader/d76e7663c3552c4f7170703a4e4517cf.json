{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Brandon\\\\Desktop\\\\FIN 6392 G3 P2 Workspace\\\\3x3-monte-dapp\\\\src\\\\components\\\\pages\\\\StartPage.js\",\n    _s = $RefreshSig$();\n\nimport { Header } from \"./start_page_comp/header\";\nimport { Base } from \"../base\";\nimport { handleEthAccReq } from \"../functions/handleEthAccReq\";\nimport { useContext, useState } from \"react\";\nimport { GlobalState } from \"../global_states/global_state\";\nimport { ethers } from \"ethers\";\nimport { useEffect } from \"react\";\nimport { GamePage } from \"../site_stuff/game_page\";\nimport erc20abi from \"../../ERC20abi.json\";\nimport ErrorMessage from \"../../ErrorMessage\";\nimport { BaseSelector } from \"./start_page_comp/base_selector\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function StartPage() {\n  _s();\n\n  var _useContext = useContext(GlobalState),\n      currentUserInfo = _useContext.currentUserInfo,\n      setCurrentUserInfo = _useContext.setCurrentUserInfo,\n      accReqPending = _useContext.accReqPending,\n      setAccReqPending = _useContext.setAccReqPending;\n\n  var contractAddress = currentUserInfo.contractAddress;\n  var provider = currentUserInfo.provider;\n  var signer = currentUserInfo.signer;\n  var signerAddress = currentUserInfo.signerAddress;\n  var erc20 = currentUserInfo.erc20; // useEffect(() => {\n  //     console.log(\"useeffect\");\n  //     const sessStorage = JSON.parse(sessionStorage.getItem(accReqPending));\n  //     setAccReqPending(() => {\n  //         if (accReqPending !== null && sessStorage === null) {\n  //             return accReqPending;\n  //         } else if (accReqPending !== sessStorage && sessStorage !== null) {\n  //             return sessStorage;\n  //         } else return accReqPending\n  //     })\n  // },[accReqPending]);\n  // const updateUser = async () => {\n  //     try {\n  //         if (!window.ethereum)\n  //             throw new Error('No crypto wallet found. Please install \"MetaMask\" in the Chrome Extensions Store')\n  //     } catch (err) {\n  //         alert(err)\n  //     }\n  //     provider = new ethers.providers.Web3Provider(window.ethereum, \"any\");\n  //     if (accReqPending === null) {\n  //         setAccReqPending(true);\n  //     }\n  //     const _ethReqP = await handleEthAccReq();\n  //     if (!_ethReqP) {\n  //         console.log(\"ethreqp pending\");\n  //         sessionStorage.setItem(accReqPending, true);\n  //         setAccReqPending(true);\n  //     } else {\n  //         erc20 = new ethers.Contract(contractAddress, erc20abi, provider);\n  //         signer = provider.getSigner();\n  //         signerAddress = await signer.getAddress().catch(e => console.log(e));\n  //         console.log(\"ethreqp not pending\");\n  //         sessionStorage.setItem(accReqPending, false);\n  //         setAccReqPending(false);\n  //         setCurrentUserInfo(prev => {\n  //                 return {\n  //                     ...prev,\n  //                     provider,\n  //                     signer,\n  //                     signerAddress,\n  //                     erc20\n  //                 }\n  //             });\n  //     }\n  // }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(BaseSelector, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n\n  if (accReqPending) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"rt-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-rt-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"Scriptcontent\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"pregame_background\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"box\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Trying to connect...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Please check your Web3 Chrome extension (i.e. \\\"MetaMask\\\")\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"Once connected, click \\\"Retry\\\"\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: function onClick() {\n                    return updateUser();\n                  },\n                  children: \"Retry\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  } else if (currentUserInfo.signerAddress != \"-\") {\n    return /*#__PURE__*/_jsxDEV(GamePage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"rt-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-rt-12\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"Scriptcontent\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"pregame_background\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"box\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: \"Click \\\"Connect\\\" to connect to your Web3 Wallet!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: function onClick() {\n                    return updateUser();\n                  },\n                  children: \"Connect\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 108,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n}\n\n_s(StartPage, \"TND5+M/5NvVMGds21TZvgeRoeq0=\");\n\n_c = StartPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"StartPage\");","map":{"version":3,"sources":["C:/Users/Brandon/Desktop/FIN 6392 G3 P2 Workspace/3x3-monte-dapp/src/components/pages/StartPage.js"],"names":["Header","Base","handleEthAccReq","useContext","useState","GlobalState","ethers","useEffect","GamePage","erc20abi","ErrorMessage","BaseSelector","StartPage","currentUserInfo","setCurrentUserInfo","accReqPending","setAccReqPending","contractAddress","provider","signer","signerAddress","erc20","updateUser"],"mappings":"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","sourcesContent":["import { Header } from \"./start_page_comp/header\"\r\nimport { Base } from \"../base\"\r\nimport { handleEthAccReq } from \"../functions/handleEthAccReq\"\r\nimport { useContext, useState } from \"react\"\r\nimport { GlobalState } from \"../global_states/global_state\"\r\nimport { ethers } from \"ethers\"\r\nimport { useEffect } from \"react\"\r\nimport { GamePage } from \"../site_stuff/game_page\"\r\nimport erc20abi from \"../../ERC20abi.json\"\r\nimport ErrorMessage from \"../../ErrorMessage\"\r\nimport { BaseSelector } from \"./start_page_comp/base_selector\"\r\n\r\n\r\n\r\nexport function StartPage() {\r\n    const { currentUserInfo, setCurrentUserInfo, accReqPending, setAccReqPending } = useContext(GlobalState);\r\n    const contractAddress = currentUserInfo.contractAddress;\r\n    var provider = currentUserInfo.provider;\r\n    var signer = currentUserInfo.signer;\r\n    var signerAddress = currentUserInfo.signerAddress;\r\n    var erc20 = currentUserInfo.erc20;\r\n    // useEffect(() => {\r\n    //     console.log(\"useeffect\");\r\n    //     const sessStorage = JSON.parse(sessionStorage.getItem(accReqPending));\r\n    //     setAccReqPending(() => {\r\n    //         if (accReqPending !== null && sessStorage === null) {\r\n    //             return accReqPending;\r\n    //         } else if (accReqPending !== sessStorage && sessStorage !== null) {\r\n    //             return sessStorage;\r\n    //         } else return accReqPending\r\n    //     })\r\n    // },[accReqPending]);\r\n\r\n    // const updateUser = async () => {\r\n    //     try {\r\n    //         if (!window.ethereum)\r\n    //             throw new Error('No crypto wallet found. Please install \"MetaMask\" in the Chrome Extensions Store')\r\n    //     } catch (err) {\r\n    //         alert(err)\r\n    //     }\r\n    //     provider = new ethers.providers.Web3Provider(window.ethereum, \"any\");\r\n    //     if (accReqPending === null) {\r\n    //         setAccReqPending(true);\r\n    //     }\r\n    //     const _ethReqP = await handleEthAccReq();\r\n    //     if (!_ethReqP) {\r\n    //         console.log(\"ethreqp pending\");\r\n    //         sessionStorage.setItem(accReqPending, true);\r\n    //         setAccReqPending(true);\r\n    //     } else {\r\n    //         erc20 = new ethers.Contract(contractAddress, erc20abi, provider);\r\n    //         signer = provider.getSigner();\r\n    //         signerAddress = await signer.getAddress().catch(e => console.log(e));\r\n    //         console.log(\"ethreqp not pending\");\r\n    //         sessionStorage.setItem(accReqPending, false);\r\n    //         setAccReqPending(false);\r\n    //         setCurrentUserInfo(prev => {\r\n    //                 return {\r\n    //                     ...prev,\r\n    //                     provider,\r\n    //                     signer,\r\n    //                     signerAddress,\r\n    //                     erc20\r\n    //                 }\r\n    //             });\r\n    //     }\r\n    \r\n    // }\r\n    return (\r\n        <>\r\n            <Header />\r\n            <BaseSelector />\r\n        </>\r\n        \r\n\r\n    )\r\n\r\n    if (accReqPending) {\r\n        return (\r\n            <>\r\n                <Header />\r\n                <div class=\"rt-container\">\r\n                    <div class=\"col-rt-12\">\r\n                        <div class=\"Scriptcontent\">\r\n                            <div class=\"pregame_background\">\r\n                                <div class=\"box\">\r\n                                    <h3>Trying to connect...</h3>\r\n                                    <p>Please check your Web3 Chrome extension (i.e. \"MetaMask\")</p>\r\n                                    <p>Once connected, click \"Retry\"</p>\r\n                                    <button onClick={() => updateUser()}>Retry</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    } else if (currentUserInfo.signerAddress != \"-\"){\r\n        return (<GamePage />)\r\n    } else {\r\n        return (\r\n            <>\r\n                <Header />\r\n                <div class=\"rt-container\">\r\n                    <div class=\"col-rt-12\">\r\n                        <div class=\"Scriptcontent\">\r\n                            <div class=\"pregame_background\">\r\n                                <div class=\"box\">\r\n                                    <h3>Click \"Connect\" to connect to your Web3 Wallet!</h3>\r\n                                    <button onClick={() => updateUser()}>Connect</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n            )\r\n    }\r\n    \r\n}"]},"metadata":{},"sourceType":"module"}