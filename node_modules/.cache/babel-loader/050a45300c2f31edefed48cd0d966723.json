{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Brandon\\\\Projects\\\\3x3-monte-dapp\\\\src\\\\components\\\\pages\\\\start_page_comp\\\\base_selector_comp\\\\game_selector_comp\\\\pregame_comp\\\\placeBet.js\",\n  _s = $RefreshSig$();\nimport { useContext } from \"react\";\nimport { ethers } from \"ethers\";\nimport { useEffect } from \"react\";\nimport { GlobalState } from \"../../../../../global_states/global_state\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function PlaceBet() {\n  _s();\n  const {\n    currentGameInfo,\n    setGameInfo,\n    currentUserInfo,\n    setCurrentUserInfo\n  } = useContext(GlobalState);\n  const signer = currentUserInfo.signer;\n  const signerAddress = currentUserInfo.signerAddress;\n  const erc20 = currentUserInfo.erc20;\n  const inputValue = currentGameInfo.inputValue;\n  const balance = currentUserInfo.balance;\n  const cards = currentGameInfo.cards;\n  var deck = currentGameInfo.deck;\n  var player = currentGameInfo.player;\n  var dealer = currentGameInfo.dealer;\n  var message = currentGameInfo.message;\n  const updateBet = e => {\n    setGameInfo(prev => {\n      return {\n        ...prev,\n        inputValue: e.target.value\n      };\n    });\n  };\n  const placeBet = async e => {\n    e.preventDefault();\n    let newBalance = await erc20.balanceOf(signerAddress);\n    newBalance = String(newBalance);\n    if (newBalance != String(balance) || balance == \"-\") {\n      setCurrentUserInfo(prev => {\n        return {\n          ...prev,\n          balance: newBalance\n        };\n      });\n    }\n    const currentBet = currentGameInfo.inputValue;\n    if (currentBet % 10 != 0) {\n      setGameInfo(prev => {\n        return {\n          ...prev,\n          message: \"Must be divisble by 10\"\n        };\n      });\n    } else if (currentBet > balance) {\n      setGameInfo(prev => {\n        return {\n          ...prev,\n          message: \"Not enough KBUX\"\n        };\n      });\n    } else if (currentBet == 0 || currentBet === null) {\n      setGameInfo(prev => {\n        return {\n          ...prev,\n          currentBet: \"freePlay\",\n          level: 1,\n          message: null\n        };\n      });\n    } else {\n      await erc20.connect(signer).transfer(\"0xe1c85AeeEDc1bE0492B4bd70Ad512058aCdB0bA2\", ethers.utils.parseUnits(currentBet, 18));\n      setGameInfo(prev => {\n        return {\n          ...prev,\n          currentBet: currentBet / 10 - 1,\n          level: 1,\n          message: null\n        };\n      });\n      setGameInfo(prev => {\n        return {\n          ...prev,\n          inputValue: null\n        };\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"input-bet\",\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: placeBet,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"enter here to deposit\",\n        value: inputValue,\n        onChange: updateBet\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: placeBet,\n        children: \"Insert Tokens\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 9\n  }, this);\n}\n_s(PlaceBet, \"B6lauMKWl2wRf8t2lmSujro8+zE=\");\n_c = PlaceBet;\nvar _c;\n$RefreshReg$(_c, \"PlaceBet\");","map":{"version":3,"names":["useContext","ethers","useEffect","GlobalState","jsxDEV","_jsxDEV","PlaceBet","_s","currentGameInfo","setGameInfo","currentUserInfo","setCurrentUserInfo","signer","signerAddress","erc20","inputValue","balance","cards","deck","player","dealer","message","updateBet","e","prev","target","value","placeBet","preventDefault","newBalance","balanceOf","String","currentBet","level","connect","transfer","utils","parseUnits","className","children","onSubmit","type","placeholder","onChange","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Brandon/Projects/3x3-monte-dapp/src/components/pages/start_page_comp/base_selector_comp/game_selector_comp/pregame_comp/placeBet.js"],"sourcesContent":["import { useContext } from \"react\"\r\nimport { ethers } from \"ethers\"\r\nimport { useEffect } from \"react\"\r\nimport { GlobalState } from \"../../../../../global_states/global_state\"\r\n\r\n\r\nexport function PlaceBet() {\r\n    const { currentGameInfo, setGameInfo, currentUserInfo, setCurrentUserInfo } = useContext(GlobalState);\r\n    const signer = currentUserInfo.signer;\r\n    const signerAddress = currentUserInfo.signerAddress;\r\n    const erc20 = currentUserInfo.erc20;\r\n    const inputValue = currentGameInfo.inputValue;\r\n    const balance = currentUserInfo.balance;\r\n    const cards = currentGameInfo.cards;\r\n    var deck = currentGameInfo.deck;\r\n    var player = currentGameInfo.player;\r\n    var dealer = currentGameInfo.dealer;\r\n    var message = currentGameInfo.message;\r\n    \r\n    const updateBet = e => {\r\n        setGameInfo(prev => {\r\n            return {\r\n                ...prev,\r\n                inputValue: e.target.value\r\n            }\r\n        })\r\n    }\r\n\r\n    const placeBet = async (e) => {\r\n        e.preventDefault();\r\n        let newBalance = await erc20.balanceOf(signerAddress);\r\n            newBalance = String(newBalance);\r\n            if (newBalance != String(balance) || balance == \"-\") {\r\n                setCurrentUserInfo(prev => {\r\n                    return {\r\n                        ...prev,\r\n                        balance: newBalance\r\n                    }\r\n                })\r\n            }\r\n        const currentBet = currentGameInfo.inputValue;\r\n        if (currentBet % 10 != 0) {\r\n            setGameInfo(prev => {\r\n                return {\r\n                    ...prev,\r\n                    message: \"Must be divisble by 10\"\r\n                }\r\n            })\r\n        } else if (currentBet > balance) {\r\n            setGameInfo(prev => {\r\n                return {\r\n                    ...prev,\r\n                    message: \"Not enough KBUX\"\r\n                }\r\n            });\r\n        } else if (currentBet == 0 || currentBet === null) {\r\n            setGameInfo(prev => {\r\n                return {\r\n                    ...prev,\r\n                    currentBet: \"freePlay\",\r\n                    level: 1,\r\n                    message: null\r\n                }\r\n            });\r\n        } else {\r\n            await erc20.connect(signer).transfer(\"0xe1c85AeeEDc1bE0492B4bd70Ad512058aCdB0bA2\", ethers.utils.parseUnits(currentBet, 18));\r\n            setGameInfo(prev => {\r\n                return {\r\n                    ...prev,\r\n                    currentBet: currentBet/10 - 1,\r\n                    level: 1,\r\n                    message: null\r\n                }\r\n            });\r\n            setGameInfo(prev => {\r\n                return {\r\n                    ...prev,\r\n                    inputValue: null\r\n                }\r\n            });\r\n        }\r\n    }\r\n    return (\r\n        <div className=\"input-bet\">\r\n            <form onSubmit={placeBet}>\r\n                <input type=\"text\" placeholder=\"enter here to deposit\" value={inputValue} onChange={updateBet}/>\r\n                <button onClick={placeBet}>Insert Tokens</button>\r\n            </form>\r\n            <p>{message}</p>\r\n        </div>\r\n        \r\n    )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}