{"ast":null,"code":"import{useContext,useEffect}from\"react\";import{GlobalState}from\"../../../../../global_states/global_state\";import{GameStart}from\"./gameStart\";import{WinningCard,BlankCard,JackPotCard}from\"../../../../../functions/createCards\";import{NewGame}from\"../../../../../buttons/newGame\";import{Continue}from\"../../../../../buttons/continue\";import{MainMenu}from\"../../../../../buttons/mainMenu\";import{ethers}from\"ethers\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export function GameScript(){const{currentUserInfo,setCurrentUserInfo,currentGameInfo,setGameInfo,accReqPending,setAccReqPending}=useContext(GlobalState);const erc20=currentUserInfo.erc20;const currentBet=currentGameInfo.currentBet;const signer=currentUserInfo.signer;const contractAddress=currentUserInfo.contractAddress;const signerAddress=currentUserInfo.signerAddress;const gameOver=currentGameInfo.gameOver;const level=currentGameInfo.level;var cards=currentGameInfo.cards;useEffect(()=>{},[currentGameInfo.gameOver,currentGameInfo.cards]);if(!gameOver){return/*#__PURE__*/_jsx(GameStart,{});}else if(level==0){if(currentBet!=\"freePlay\"){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Game Over!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"game-area\",children:/*#__PURE__*/_jsx(\"div\",{className:\"cards\",children:cards})}),/*#__PURE__*/_jsx(NewGame,{})]});}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Game Over!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"game-area\",children:/*#__PURE__*/_jsx(\"div\",{className:\"cards\",children:cards})}),/*#__PURE__*/_jsx(NewGame,{}),/*#__PURE__*/_jsx(MainMenu,{})]});}}else if(level==4){if(currentBet!=\"freePlay\"){erc20.connect(signer).sendPayout(contractAddress,ethers.utils.parseUnits(String(1500),18),signerAddress);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"You Win!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"game-area\",children:/*#__PURE__*/_jsx(\"div\",{className:\"cards\",children:cards})}),/*#__PURE__*/_jsx(NewGame,{})]});}else{return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Nice! Click \\\"continue\\\" to move onto the next board!\"}),/*#__PURE__*/_jsx(\"div\",{className:\"game-area\",children:/*#__PURE__*/_jsx(\"div\",{className:\"cards\",children:cards})}),/*#__PURE__*/_jsx(Continue,{})]});}}","map":{"version":3,"names":["useContext","useEffect","GlobalState","GameStart","WinningCard","BlankCard","JackPotCard","NewGame","Continue","MainMenu","ethers","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","GameScript","currentUserInfo","setCurrentUserInfo","currentGameInfo","setGameInfo","accReqPending","setAccReqPending","erc20","currentBet","signer","contractAddress","signerAddress","gameOver","level","cards","children","className","connect","sendPayout","utils","parseUnits","String"],"sources":["C:/Users/Brandon/Projects/3x3-monte-dapp/src/components/pages/start_page_comp/base_selector_comp/game_selector_comp/game_comp/gameScript.js"],"sourcesContent":["import { useContext, useEffect} from \"react\";\r\nimport { GlobalState } from \"../../../../../global_states/global_state\";\r\nimport { GameStart } from \"./gameStart\";\r\nimport { WinningCard, BlankCard, JackPotCard } from \"../../../../../functions/createCards\";\r\nimport { NewGame } from \"../../../../../buttons/newGame\";\r\nimport { Continue } from \"../../../../../buttons/continue\";\r\nimport { MainMenu } from \"../../../../../buttons/mainMenu\";\r\nimport { ethers } from \"ethers\";\r\n\r\n\r\nexport function GameScript() {\r\n    const { currentUserInfo, setCurrentUserInfo, currentGameInfo, setGameInfo, accReqPending, setAccReqPending} = useContext(GlobalState);\r\n    const erc20 = currentUserInfo.erc20;\r\n    const currentBet = currentGameInfo.currentBet;\r\n    const signer = currentUserInfo.signer;\r\n    const contractAddress = currentUserInfo.contractAddress;\r\n    const signerAddress = currentUserInfo.signerAddress;\r\n    const gameOver = currentGameInfo.gameOver;\r\n    const level = currentGameInfo.level;\r\n    var cards = currentGameInfo.cards;\r\n    useEffect(() => {\r\n        \r\n    }, [currentGameInfo.gameOver, currentGameInfo.cards]);\r\n\r\n    if (!gameOver) {\r\n        return (<GameStart />)\r\n    } else if (level == 0) {\r\n        if (currentBet != \"freePlay\") {\r\n            return (\r\n                <>\r\n                    <h3>Game Over!</h3>\r\n                    <div className=\"game-area\">\r\n                        <div className=\"cards\">\r\n                                {cards}\r\n                        </div>\r\n                    </div>\r\n                    <NewGame />\r\n                </>\r\n            )\r\n        } else {\r\n            return (\r\n                <>\r\n                    <h3>Game Over!</h3>\r\n                    <div className=\"game-area\">\r\n                        <div className=\"cards\">\r\n                                {cards}\r\n                        </div>\r\n                    </div>\r\n                    <NewGame />\r\n                    <MainMenu />\r\n                </>\r\n            )\r\n        }\r\n        \r\n    } else if (level == 4) {\r\n        if (currentBet != \"freePlay\") {\r\n            erc20.connect(signer).sendPayout(contractAddress, ethers.utils.parseUnits(String(1500), 18), signerAddress);\r\n        }\r\n        return (\r\n            <>\r\n                <h3>You Win!</h3>\r\n                <div className=\"game-area\">\r\n                    <div className=\"cards\">\r\n                        {cards}\r\n                    </div>\r\n                </div>\r\n                <NewGame />\r\n            </>\r\n        )\r\n    } else {\r\n        return (\r\n            <>\r\n                <h3>Nice! Click \"continue\" to move onto the next board!</h3>\r\n                <div className=\"game-area\">\r\n                    <div className=\"cards\">\r\n                        {cards}\r\n                    </div>\r\n                </div>\r\n                <Continue />\r\n            </>\r\n        )\r\n    }\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}