{"ast":null,"code":"import _objectSpread from\"C:/Users/Brandon/Projects/3x3-monte-dapp/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/Brandon/Projects/3x3-monte-dapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Brandon\\\\Projects\\\\3x3-monte-dapp\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import{useContext,useEffect}from\"react\";import{GlobalState}from\"../../../../../global_states/global_state\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function GetMyBalance(){var _useContext=useContext(GlobalState),currentUserInfo=_useContext.currentUserInfo,setCurrentUserInfo=_useContext.setCurrentUserInfo,currentGameInfo=_useContext.currentGameInfo,setGameInfo=_useContext.setGameInfo,accReqPending=_useContext.accReqPending,setAccReqPending=_useContext.setAccReqPending;var balance=currentUserInfo.balance;var updateBalance=currentUserInfo.updateBalance;var signerAddress=currentUserInfo.signerAddress;var erc20=currentUserInfo.erc20;useEffect(function(){function getBalance(){return _getBalance.apply(this,arguments);}function _getBalance(){_getBalance=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var newBalance;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return erc20.balanceOf(signerAddress);case 2:newBalance=_context.sent;newBalance=String(newBalance);if(newBalance!=String(balance)||balance==\"-\"){setCurrentUserInfo(function(prev){return _objectSpread(_objectSpread({},prev),{},{balance:newBalance});});}case 5:case\"end\":return _context.stop();}}},_callee);}));return _getBalance.apply(this,arguments);};getBalance();},[currentUserInfo.updateBalance]);return/*#__PURE__*/_jsxs(\"h3\",{children:[\"Your Current Balance is: \",balance/1E18]});}","map":{"version":3,"sources":["C:/Users/Brandon/Projects/3x3-monte-dapp/src/components/pages/start_page_comp/base_selector_comp/game_selector_comp/pregame_comp/currentBalance.js"],"names":["useContext","useEffect","GlobalState","GetMyBalance","currentUserInfo","setCurrentUserInfo","currentGameInfo","setGameInfo","accReqPending","setAccReqPending","balance","updateBalance","signerAddress","erc20","getBalance","balanceOf","newBalance","String","prev"],"mappings":"qYAAA,OAASA,UAAT,CAAqBC,SAArB,KAAsC,OAAtC,CACA,OAASC,WAAT,KAA4B,2CAA5B,C,6CAGA,MAAO,SAASC,CAAAA,YAAT,EAAwB,CAC3B,gBAA8GH,UAAU,CAACE,WAAD,CAAxH,CAAQE,eAAR,aAAQA,eAAR,CAAyBC,kBAAzB,aAAyBA,kBAAzB,CAA6CC,eAA7C,aAA6CA,eAA7C,CAA8DC,WAA9D,aAA8DA,WAA9D,CAA2EC,aAA3E,aAA2EA,aAA3E,CAA0FC,gBAA1F,aAA0FA,gBAA1F,CACA,GAAIC,CAAAA,OAAO,CAAGN,eAAe,CAACM,OAA9B,CACA,GAAMC,CAAAA,aAAa,CAAGP,eAAe,CAACO,aAAtC,CACA,GAAMC,CAAAA,aAAa,CAAGR,eAAe,CAACQ,aAAtC,CACA,GAAMC,CAAAA,KAAK,CAAGT,eAAe,CAACS,KAA9B,CAEAZ,SAAS,CAAC,UAAM,SACGa,CAAAA,UADH,wIACZ,wKAC2BD,CAAAA,KAAK,CAACE,SAAN,CAAgBH,aAAhB,CAD3B,QACQI,UADR,eAEIA,UAAU,CAAGC,MAAM,CAACD,UAAD,CAAnB,CACA,GAAIA,UAAU,EAAIC,MAAM,CAACP,OAAD,CAApB,EAAiCA,OAAO,EAAI,GAAhD,CAAqD,CACjDL,kBAAkB,CAAC,SAAAa,IAAI,CAAI,CACvB,sCACOA,IADP,MAEIR,OAAO,CAAEM,UAFb,GAIH,CALiB,CAAlB,CAMH,CAVL,sDADY,6CAYX,CACDF,UAAU,GACb,CAdQ,CAcP,CAACV,eAAe,CAACO,aAAjB,CAdO,CAAT,CAgBA,mBACI,kDAA8BD,OAAO,CAAC,IAAtC,GADJ,CAGH","sourcesContent":["import { useContext, useEffect } from \"react\";\r\nimport { GlobalState } from \"../../../../../global_states/global_state\";\r\n\r\n\r\nexport function GetMyBalance() {\r\n    const { currentUserInfo, setCurrentUserInfo, currentGameInfo, setGameInfo, accReqPending, setAccReqPending} = useContext(GlobalState);\r\n    var balance = currentUserInfo.balance;\r\n    const updateBalance = currentUserInfo.updateBalance;\r\n    const signerAddress = currentUserInfo.signerAddress;\r\n    const erc20 = currentUserInfo.erc20;\r\n\r\n    useEffect(() => {\r\n        async function getBalance() {\r\n            let newBalance = await erc20.balanceOf(signerAddress);\r\n            newBalance = String(newBalance);\r\n            if (newBalance != String(balance) || balance == \"-\") {\r\n                setCurrentUserInfo(prev => {\r\n                    return {\r\n                        ...prev,\r\n                        balance: newBalance\r\n                    }\r\n                })\r\n            }\r\n        };\r\n        getBalance();\r\n    },[currentUserInfo.updateBalance]);\r\n\r\n    return (\r\n        <h3>Your Current Balance is: {balance/1E18}</h3>\r\n    )\r\n}"]},"metadata":{},"sourceType":"module"}